# 快速开始指南

## 一、安装依赖

### 方法 1: 使用启动脚本(推荐)

```bash
cd web_admin
chmod +x run.sh
./run.sh
```

启动脚本会自动检查并安装依赖。

### 方法 2: 手动安装

```bash
cd web_admin
pip install -r requirements.txt
python app.py
```

## 二、访问应用

打开浏览器访问: **http://127.0.0.1:5000**

## 三、功能使用

### 1. 仪表板 (首页)

- 查看博客统计信息
- 快速新建文章
- 查看最近文章

### 2. 文章管理 (/posts)

**搜索文章:**
- 在搜索框输入关键词(标题、内容、标签)
- 支持按分类筛选
- 支持按标签筛选

**新建文章:**
1. 点击"新建文章"按钮
2. 输入文章标题
3. 自动跳转到编辑器

### 3. 文章编辑器 (/editor)

**编辑文章:**
- 从文章列表点击"编辑"进入
- 在编辑器中修改内容
- 点击"保存"按钮或按 Ctrl+S / Cmd+S 保存

**编辑器特性:**
- Markdown 语法支持
- 自动检测文件变更
- 快捷键保存

### 4. 服务器控制 (/server)

**启动 Hugo 服务器:**
- 点击"启动服务器"(普通模式)
- 或点击"启动服务器(草稿模式)"(显示草稿)

**查看日志:**
- 实时显示 Hugo 服务器输出
- 支持清空日志

**停止服务器:**
- 点击"停止服务器"按钮

**访问网站:**
- 服务器运行后，点击"访问网站"按钮

## 四、常见问题

### Q1: 启动时提示 "ModuleNotFoundError: No module named 'flask'"

**解决:** 安装依赖
```bash
pip install -r requirements.txt
```

### Q2: 启动 Hugo 服务器失败

**可能原因:**
1. Hugo 未安装
2. Hugo 版本过低

**解决:**
```bash
# 检查 Hugo 是否安装
hugo version

# 如果未安装，访问 https://gohugo.io/installation/ 安装
```

### Q3: 无法编辑文章

**解决:** 确保文件有写权限
```bash
chmod -R u+w content/
```

### Q4: 日志不显示

**解决:**
1. 检查浏览器是否支持 WebSocket
2. 查看浏览器控制台是否有错误
3. 尝试刷新页面

### Q5: 端口 5000 被占用

**解决:** 修改 `app.py` 最后一行的端口号
```python
socketio.run(app, host='127.0.0.1', port=5001, debug=True)
```

## 五、开发调试

### 查看日志

```bash
# 在终端查看应用日志
python app.py
```

### 测试 API

```bash
# 测试服务器状态
curl http://127.0.0.1:5000/api/server/status

# 测试文章列表
curl http://127.0.0.1:5000/api/posts
```

## 六、安全建议

1. **仅本地使用**: 应用默认只监听 127.0.0.1，请勿修改为 0.0.0.0
2. **文件权限**: 确保 content 目录权限正确
3. **定期备份**: 编辑文章前建议先备份

## 七、与 CLI 工具对比

| 功能 | CLI (tasks.py) | Web 应用 |
|------|---------------|----------|
| 启动服务器 | `invoke server` | 点击按钮 |
| 新建文章 | `invoke post` | 表单输入 |
| 搜索文章 | `invoke search` | 搜索框 |
| 编辑文章 | `invoke edit` | 在线编辑 |
| 查看日志 | 终端输出 | Web 实时显示 |

**建议:**
- 日常操作使用 Web 应用(更便捷)
- 自动化脚本使用 CLI 工具

## 八、下一步

- [ ] 尝试搜索和编辑文章
- [ ] 启动 Hugo 服务器查看预览
- [ ] 自定义配置(修改 config.py)
- [ ] 探索更多功能

## 技术支持

如果遇到问题:
1. 查看 README.md 了解更多信息
2. 检查浏览器控制台错误
3. 查看终端日志输出
